<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
            crossorigin="anonymous"
        />

        <!-- Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

        <link
            href="https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100..900;1,100..900&display=swap"
            rel="stylesheet"
        />

        <title>Endpoints | Janmarg API reference</title>

        <style>
            h1,
            h2,
            h3,
            h4,
            h5,
            p,
            a {
                font-family: "Noto Sans";
            }

            .post-icon {
                background-color: #d4aa00;
                border-radius: 5px;
                color: white;
                font-weight: 600;
            }

            .get-icon {
                background-color: #008000;
                border-radius: 5px;
                color: white;
                font-weight: 600;
            }

            .clickable-children > div:hover {
                cursor: pointer;

                /* Override framework-set color */
                background-color: rgb(244, 244, 255) !important;
                border-top-color: rgb(127, 127, 255) !important;
                border-bottom-color: rgb(127, 127, 255) !important;
            }
        </style>
    </head>
    <body>
        <!-- Google tag (gtag.js) -->
        <script
            async
            src="https://www.googletagmanager.com/gtag/js?id=G-Z98DBRVMLZ"
        ></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag() {
                dataLayer.push(arguments);
            }
            gtag("js", new Date());

            gtag("config", "G-Z98DBRVMLZ");
        </script>

        <!-- Navbar -->
        <nav class="navbar fixed-top bg-body-tertiary navbar-expand-md">
            <div class="container-fluid">
                <a class="navbar-brand">
                    <img
                        src="assets/vector/JanmargForDevsLogo.svg"
                        class="mx-3 my-2"
                        width="150"
                    />
                </a>
                <button
                    class="navbar-toggler"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#navitems"
                    aria-controls="navitems"
                    aria-expanded="false"
                    aria-label="Toggle navigation"
                >
                    <span class="navbar-toggler-icon"></span>
                </button>
                <ul
                    id="navitems"
                    class="navbar-nav me-auto collapse navbar-collapse"
                >
                    <li class="navbar-item">
                        <a class="nav-link active" href="#">Endpoints</a>
                    </li>
                    <li class="navbar-item">
                        <a class="nav-link" href="#">Examples</a>
                    </li>
                </ul>
            </div>
        </nav>

        <!-- Scroll progression bar -->
        <div
            class="progress fixed-top bg-body-secondary"
            role="progressbar"
            aria-label="Scroll progress bar"
            aria-valuenow="0"
            aria-valuemin="0"
            aria-valuemax="100"
            style="height: 5px; border-radius: 1px"
        >
            <div
                class="progress-bar"
                id="scroll-progress-bar"
                style="width: 0%"
            ></div>
        </div>

        <!-- Background -->
        <div class="container-fluid" style="margin-top: 5%">
            <div class="row">
                <img src="assets/images/bg-3.jpg" style="max-width: 100%" />
            </div>
        </div>

        <!-- API status bar -->
        <div class="container-fluid bg-body-secondary">
            <div class="row ms-4 p-2 pt-4">
                <h3>API status</h3>
            </div>
            <div class="row ms-4 p-2">
                <p id="api-status-text" style="font-weight: 600">Checking</p>
            </div>
        </div>

        <div class="container-fluid">
            <div class="row">
                <div class="col-md-4 my-3 py-3">
                    <!-- Endpoint list -->

                    <div
                        id="endpoint-list"
                        class="container-fluid clickable-children sticky-top"
                        style="top: 7em"
                    >
                        <h5 class="mx-2">Endpoints</h5>
                        <div
                            class="row bg-body-secondary border-top border-bottom p-3 my-3 text-wrap"
                            data-ref="nav-token-doc"
                        >
                            <div class="d-inline">
                                <span class="post-icon p-1 px-2 mx-2"
                                    >POST</span
                                >
                                <span style="font-weight: 600">/token/</span>
                            </div>
                        </div>
                        <div
                            class="row bg-body-secondary border-top border-bottom p-3 my-3 text-wrap"
                            data-ref="nav-routetimetable-doc"
                        >
                            <div class="d-inline">
                                <span class="get-icon p-1 px-3 mx-2">GET</span>
                                <span style="font-weight: 600"
                                    >/api/RouteTimeTable?Rows=int&Page=int</span
                                >
                            </div>
                        </div>
                        <div
                            class="row bg-body-secondary border-top border-bottom p-3 my-3 text-wrap"
                            data-ref="nav-busesonroute-doc"
                        >
                            <div class="d-inline">
                                <span class="get-icon p-1 px-3 mx-2">GET</span>
                                <span style="font-size: 0.8em; font-weight: 600"
                                    >/api/BusesOnRoute?routeCode=string<wbr />&Rows=int<wbr />&Pag...</span
                                >
                            </div>
                        </div>
                        <div
                            class="row bg-body-secondary border-top border-bottom p-3 my-3 text-wrap"
                            data-ref="nav-farematrix-doc"
                        >
                            <div class="d-inline">
                                <span class="get-icon p-1 px-3 mx-2">GET</span>
                                <span style="font-weight: 600"
                                    >/api/FareMatrix/GetAllFare?serviceType=BRTS</span
                                >
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Endpoint documentation -->
                <div class="col my-4 px-5">
                    <hr />
                    <div class="row">
                        <h5 id="nav-token-doc">POST /token/</h5>
                        <p>
                            Retrieve an OAuth 2.0 authentication token to make
                            further requests to the API
                        </p>
                        <h6 class="my-3">
                            Payload (MIME type: 'application/form-data')
                        </h6>
                        <code
                            >grant_type=password&username=WApiUser&password=ttttt</code
                        >
                        <h6 class="my-3">Response</h6>
                        <code>
                            <pre>
    {
        access_token: (your access token)
        token_type: bearer
        expires_in: 259199
    }
                            </pre>
                        </code>
                    </div>
                    <hr />
                    <div class="row">
                        <h5 id="nav-routetimetable-doc">
                            GET /api/RouteTimeTable?Rows=int&Page=int
                        </h5>
                        <p>
                            Obtain a timetable for all BRTS routes in Ahmedabad
                        </p>
                        <h6 class="my-3">Headers</h6>
                        <code
                            >authentication: (The access token retrieved through
                            a request to the /token/ endpoint, prefixed with
                            'bearer ')</code
                        >
                        <h6 class="my-3">Response</h6>
                        <code>
                            <pre>
    {
        Data: [
            {
                "routeId": 1,
                "routeCode": "1D",
                "customerRouteCode": "1D",
                "route": "Maninagar - Ghuma Gam",
                "startName": "Maninagar",
                "endName": "Ghuma Gam",
                "startStopCode": 57,
                "endStopCode": 270,
                "startTime": "06:10:00",
                "endTime": "22:45:00",
                "days": "1,2,3,4,5,6,7",
                "linetype": "BRTS",
                "Variant": "NORMAL"
            },
            {
                ...
            }
        ]
    }

                            </pre>
                        </code>
                    </div>
                    <hr />
                    <div class="row">
                        <h5 id="nav-busesonroute-doc">
                            GET
                            /api/BusesOnRoute?routeCode=string&<wbr\>Rows=int&<wbr\>Page=int
                        </h5>
                        <p>
                            Retrieve information regarding bus arrival/departure
                            time, code and stops along the given routeCode. The
                            routeCode can be obtained by making a request to the
                            /RouteTimeTable/ endpoint
                        </p>
                        <h6 class="my-3">Headers</h6>
                        <code
                            >authentication: (The access token retrieved through
                            a request to the /token/ endpoint, prefixed with
                            'bearer ')</code
                        >
                        <h6 class="my-3">Response</h6>
                        <code>
                            <pre>
    {
        "Data": [
            {
                "ScheduleForRouteId": int,
                "schedulecode": string,
                "scheduleForRouteCode": string,
                "routeCode": string,
                "routeName": string,
                "routeDestination": string,
                "routeVariant": "NORMAL",
                "firstStopCode": int,
                "lastStopCode": int,
                "Shift": null,
                "startTime": string,
                "stopTime": string,
                "runCode": string,
                "tripSeqNumber": null,
                "dutyCode": null,
                "firstStopName": string,
                "lastStopName": string,
                "busNo": int
            },
            {
                ...
            }
            ]
    }
                                                    </pre
                            >
                        </code>
                    </div>
                    <hr />
                    <div class="row">
                        <h5 id="nav-farematrix-doc">
                            GET /api/FareMatrix/GetAllFare?serviceType=BRTS
                        </h5>

                        <p>
                            Retrieve the fares for travelling between any two
                            stops in the BRTS network
                        </p>
                        <h6 class="my-3">Headers</h6>
                        <code
                            >authentication: (The access token retrieved through
                            a request to the /token/ endpoint, prefixed with
                            'bearer ')</code
                        >
                        <h6 class="my-3">Response</h6>
                        <code>
                            <pre>
    [
        {
            "From": string,
            "Ajit Mill Char Rasta": null | string,
            "Akhbarnagar": null | string,
            "Ambli Gam": null | string,
            "Andhjan Mandal": null | string,
            "Anjali": null | string,
            "Antariksh Colony": null | string,
            "Arvind Mill": null | string,
            "Ashok Mill": null | string,
            "Ashok Vatika": null | string,
            "Astodiya Chakala": null | string,
            "Astodiya Darwaja": null | string,
            "Bapu Nagar Approach": null | string,
            "Bethak": null | string,
            "Bhadaj Circle": null | string,
            "Bhairavnath Road": null | string,
            "Bhavsar Hostel": null | string,
            "Bhavya Park": null | string,
...
        },
        {
            ...
        }
    ]
                            </pre>
                        </code>
                    </div>
                </div>
            </div>
        </div>

        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
            crossorigin="anonymous"
        ></script>

        <script src="assets/scripts/scroll-helper.js"></script>
        <script src="assets/scripts/progress-bar.js"></script>
        <script src="assets/scripts/api-status.js"></script>
    </body>
</html>
